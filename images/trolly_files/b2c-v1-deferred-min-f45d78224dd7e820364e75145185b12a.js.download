(function(a){a.apnCookie=function(i,g,k,c){k=a.setCookieDomain(k);var b=i;if(c==undefined){c=true;}if(c){i=APNGlobal.cookiePrefix+"-"+i;}var h=a.getAskEraser();if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(g))||g===null||g===undefined)){if(h){if(APNGlobal.jsonAllAskEraserAllowedCookies[i]!=null&&APNGlobal.jsonAllCookiesIntoAskEraserValue[i]!=undefined){return a.cookie(i,g,k);}var e=h;var j=a.getIntoAskEraserValue(b);if(e.indexOf(j)!=-1){g=e.replace(j,"");}else{if(j!=undefined){g=e+j;}}var d=k.domain;if(APNGlobal.baseDomainCookiesPresent){a.cookie("askeraser",g,{expires:183,domain:".ask.com"});}return a.cookie(APNGlobal.cookiePrefix+"-askeraser",g,{expires:183,domain:d});}else{return a.cookie(i,g,k);}}else{if(h){var e=h;var j=a.getIntoAskEraserValue(b);if(j!=""&&e.indexOf(j)!=-1){j=j.substr(1,j.length);if(APNGlobal.jsonAllCookiesIntoAskEraserToUrlValue[j]!=undefined){return APNGlobal.jsonAllCookiesIntoAskEraserToUrlValue[j];}}}}var f=a.cookie(i);if(!f){f=a.cookie(b);}return f;};a.setCookieDomain=function(b){if(b!=null&&b!=undefined){if(b.domain===null||b.domain===undefined){if(APNGlobal.cookieDomain!=null&&APNGlobal.cookieDomain!=undefined){b.domain=APNGlobal.cookieDomain;}}}return b;};a.getAskEraser=function(){var b=a.cookie(APNGlobal.cookiePrefix+"-askeraser");if(APNGlobal.baseDomainCookiesPresent&&!b){b=a.cookie("askeraser");}return b;};a.getIntoAskEraserValue=function(c){var b;if(APNGlobal.jsonAllCookiesIntoAskEraserValue[c]!=null&&APNGlobal.jsonAllCookiesIntoAskEraserValue[c]!=undefined){b=APNGlobal.jsonAllCookiesIntoAskEraserValue[c]!=undefined?APNGlobal.jsonAllCookiesIntoAskEraserValue[c]:"";}return b;};})(jQuery);if(typeof JSON!=="object"){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());(function(b,d){var a=b.History=b.History||{},c=b.jQuery;if(typeof a.Adapter!=="undefined"){throw new Error("History.js Adapter has already been loaded...");}a.Adapter={bind:function(e,f,g){c(e).bind(f,g);},trigger:function(f,g,e){c(f).trigger(g,e);},extractEventData:function(g,h,f){var e=(h&&h.originalEvent&&h.originalEvent[g])||(f&&f[g])||d;return e;},onDomLoad:function(e){c(e);}};if(typeof a.init!=="undefined"){a.init();}})(window);(function(d,g){var a=d.document,e=d.setTimeout||e,f=d.clearTimeout||f,b=d.setInterval||b,c=d.History=d.History||{};if(typeof c.initHtml4!=="undefined"){throw new Error("History.js HTML4 Support has already been loaded...");}c.initHtml4=function(){if(typeof c.initHtml4.initialized!=="undefined"){return false;}else{c.initHtml4.initialized=true;}c.enabled=true;c.savedHashes=[];c.isLastHash=function(h){var j=c.getHashByIndex(),i;i=h===j;return i;};c.isHashEqual=function(h,i){h=encodeURIComponent(h).replace(/%25/g,"%");i=encodeURIComponent(i).replace(/%25/g,"%");return h===i;};c.saveHash=function(h){if(c.isLastHash(h)){return false;}c.savedHashes.push(h);return true;};c.getHashByIndex=function(h){var i=null;if(typeof h==="undefined"){i=c.savedHashes[c.savedHashes.length-1];}else{if(h<0){i=c.savedHashes[c.savedHashes.length+h];}else{i=c.savedHashes[h];}}return i;};c.discardedHashes={};c.discardedStates={};c.discardState=function(l,h,k){var i=c.getHashByState(l),j;j={"discardedState":l,"backState":k,"forwardState":h};c.discardedStates[i]=j;return true;};c.discardHash=function(i,h,k){var j={"discardedHash":i,"backState":k,"forwardState":h};c.discardedHashes[i]=j;return true;};c.discardedState=function(h){var j=c.getHashByState(h),i;i=c.discardedStates[j]||false;return i;};c.discardedHash=function(i){var h=c.discardedHashes[i]||false;return h;};c.recycleState=function(h){var i=c.getHashByState(h);if(c.discardedState(h)){delete c.discardedStates[i];}return true;};if(c.emulated.hashChange){c.hashChangeInit=function(){c.checkerFunction=null;var h="",m,i,k,l,j=Boolean(c.getHash());if(c.isInternetExplorer()){m="historyjs-iframe";i=a.createElement("iframe");i.setAttribute("id",m);i.setAttribute("src","#");i.style.display="none";a.body.appendChild(i);i.contentWindow.document.open();i.contentWindow.document.close();k="";l=false;c.checkerFunction=function(){if(l){return false;}l=true;var o=c.getHash(),n=c.getHash(i.contentWindow.document);if(o!==h){h=o;if(n!==o){k=n=o;i.contentWindow.document.open();i.contentWindow.document.close();i.contentWindow.document.location.hash=c.escapeHash(o);}c.Adapter.trigger(d,"hashchange");}else{if(n!==k){k=n;if(j&&n===""){c.back();}else{c.setHash(n,false);}}}l=false;return true;};}else{c.checkerFunction=function(){var n=c.getHash()||"";if(n!==h){h=n;c.Adapter.trigger(d,"hashchange");}return true;};}c.intervalList.push(b(c.checkerFunction,c.options.hashChangeInterval));return true;};c.Adapter.onDomLoad(c.hashChangeInit);}if(c.emulated.pushState){c.onHashChange=function(l){var m=((l&&l.newURL)||c.getLocationHref()),k=c.getHashByUrl(m),j=null,h=null,n=null,i;if(c.isLastHash(k)){c.busy(false);return false;}c.doubleCheckComplete();c.saveHash(k);if(k&&c.isTraditionalAnchor(k)){c.Adapter.trigger(d,"anchorchange");c.busy(false);return false;}j=c.extractState(c.getFullUrl(k||c.getLocationHref()),true);if(c.isLastSavedState(j)){c.busy(false);return false;}h=c.getHashByState(j);i=c.discardedState(j);if(i){if(c.getHashByIndex(-2)===c.getHashByState(i.forwardState)){c.back(false);}else{c.forward(false);}return false;}c.pushState(j.data,j.title,encodeURI(j.url),false);return true;};c.Adapter.bind(d,"hashchange",c.onHashChange);c.pushState=function(l,q,h,n){h=encodeURI(h).replace(/%25/g,"%");if(c.getHashByUrl(h)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");}if(n!==false&&c.busy()){c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:n});return false;}c.busy(true);var k=c.createStateObject(l,q,h),i=c.getHashByState(k),j=c.getState(false),m=c.getHashByState(j),p=c.getHash(),o=c.expectedStateId==k.id;c.storeState(k);c.expectedStateId=k.id;c.recycleState(k);c.setTitle(k);if(i===m){c.busy(false);return false;}c.saveState(k);if(!o){c.Adapter.trigger(d,"statechange");}if(!c.isHashEqual(i,p)&&!c.isHashEqual(i,c.getShortUrl(c.getLocationHref()))){c.setHash(i,false);}c.busy(false);return true;};c.replaceState=function(l,p,h,n){h=encodeURI(h).replace(/%25/g,"%");if(c.getHashByUrl(h)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");}if(n!==false&&c.busy()){c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:n});return false;}c.busy(true);var k=c.createStateObject(l,p,h),i=c.getHashByState(k),j=c.getState(false),m=c.getHashByState(j),o=c.getStateByIndex(-2);c.discardState(j,k,o);if(i===m){c.storeState(k);c.expectedStateId=k.id;c.recycleState(k);c.setTitle(k);c.saveState(k);c.Adapter.trigger(d,"statechange");c.busy(false);}else{c.pushState(k.data,k.title,k.url,false);}return true;};}if(c.emulated.pushState){if(c.getHash()&&!c.emulated.hashChange){c.Adapter.onDomLoad(function(){c.Adapter.trigger(d,"hashchange");});}}};if(typeof c.init!=="undefined"){c.init();}})(window);(function(i,a){var d=i.console||a,k=i.document,n=i.navigator,m=false,c=i.setTimeout,l=i.clearTimeout,f=i.setInterval,p=i.clearInterval,o=i.JSON,j=i.alert,b=i.History=i.History||{},h=i.history;try{m=i.sessionStorage;m.setItem("TEST","1");m.removeItem("TEST");}catch(g){m=false;}o.stringify=o.stringify||o.encode;o.parse=o.parse||o.decode;if(typeof b.init!=="undefined"){throw new Error("History.js Core has already been loaded...");}b.init=function(e){if(typeof b.Adapter==="undefined"){return false;}if(typeof b.initCore!=="undefined"){b.initCore();}if(typeof b.initHtml4!=="undefined"){b.initHtml4();}return true;};b.initCore=function(e){if(typeof b.initCore.initialized!=="undefined"){return false;}else{b.initCore.initialized=true;}b.options=b.options||{};b.options.hashChangeInterval=b.options.hashChangeInterval||100;b.options.safariPollInterval=b.options.safariPollInterval||500;b.options.doubleCheckInterval=b.options.doubleCheckInterval||500;b.options.disableSuid=b.options.disableSuid||false;b.options.storeInterval=b.options.storeInterval||1000;b.options.busyDelay=b.options.busyDelay||250;b.options.debug=b.options.debug||false;b.options.initialTitle=b.options.initialTitle||k.title;b.options.html4Mode=b.options.html4Mode||false;b.options.delayInit=b.options.delayInit||false;b.intervalList=[];b.clearAllIntervals=function(){var t,s=b.intervalList;if(typeof s!=="undefined"&&s!==null){for(t=0;t<s.length;t++){p(s[t]);}b.intervalList=null;}};b.debug=function(){if((b.options.debug||false)){b.log.apply(b,arguments);}};b.log=function(){var y=!(typeof d==="undefined"||typeof d.log==="undefined"||typeof d.log.apply==="undefined"),t=k.getElementById("log"),x,w,z,u,s;if(y){u=Array.prototype.slice.call(arguments);x=u.shift();if(typeof d.debug!=="undefined"){d.debug.apply(d,[x,u]);}else{d.log.apply(d,[x,u]);}}else{x=("\n"+arguments[0]+"\n");}for(w=1,z=arguments.length;w<z;++w){s=arguments[w];if(typeof s==="object"&&typeof o!=="undefined"){try{s=o.stringify(s);}catch(v){}}x+="\n"+s+"\n";}if(t){t.value+=x+"\n-----\n";t.scrollTop=t.scrollHeight-t.clientHeight;}else{if(!y){j(x);}}return true;};b.getInternetExplorerMajorVersion=function(){var s=b.getInternetExplorerMajorVersion.cached=(typeof b.getInternetExplorerMajorVersion.cached!=="undefined")?b.getInternetExplorerMajorVersion.cached:(function(){var t=3,w=k.createElement("div"),u=w.getElementsByTagName("i");while((w.innerHTML="<!--[if gt IE "+(++t)+"]><i></i><![endif]-->")&&u[0]){}return(t>4)?t:false;})();return s;};b.isInternetExplorer=function(){var s=b.isInternetExplorer.cached=(typeof b.isInternetExplorer.cached!=="undefined")?b.isInternetExplorer.cached:Boolean(b.getInternetExplorerMajorVersion());return s;};if(b.options.html4Mode){b.emulated={pushState:true,hashChange:true};}else{b.emulated={pushState:!Boolean(i.history&&i.history.pushState&&i.history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(n.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(n.userAgent))),hashChange:Boolean(!(("onhashchange" in i)||("onhashchange" in k))||(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8))};}b.enabled=!b.emulated.pushState;b.bugs={setHash:Boolean(!b.emulated.pushState&&n.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),safariPoll:Boolean(!b.emulated.pushState&&n.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<7)};b.isEmptyObject=function(t){for(var s in t){if(t.hasOwnProperty(s)){return false;}}return true;};b.cloneObject=function(u){var t,s;if(u){t=o.stringify(u);s=o.parse(t);}else{s={};}return s;};b.getRootUrl=function(){var s=k.location.protocol+"//"+(k.location.hostname||k.location.host);if(k.location.port||false){s+=":"+k.location.port;}s+="/";return s;};b.getBaseHref=function(){var s=k.getElementsByTagName("base"),u=null,t="";if(s.length===1){u=s[0];t=u.href.replace(/[^\/]+$/,"");}t=t.replace(/\/+$/,"");if(t){t+="/";}return t;};b.getBaseUrl=function(){var s=b.getBaseHref()||b.getBasePageUrl()||b.getRootUrl();return s;};b.getPageUrl=function(){var s=b.getState(false,false),u=(s||{}).url||b.getLocationHref(),t;t=u.replace(/\/+$/,"").replace(/[^\/]+$/,function(x,w,v){return(/\./).test(x)?x:x+"/";});return t;};b.getBasePageUrl=function(){var s=(b.getLocationHref()).replace(/[#\?].*/,"").replace(/[^\/]+$/,function(v,u,t){return(/[^\/]$/).test(v)?"":v;}).replace(/\/+$/,"")+"/";return s;};b.getFullUrl=function(t,v){var s=t,u=t.substring(0,1);v=(typeof v==="undefined")?true:v;if(/[a-z]+\:\/\//.test(t)){}else{if(u==="/"){s=b.getRootUrl()+t.replace(/^\/+/,"");}else{if(u==="#"){s=b.getPageUrl().replace(/#.*/,"")+t;}else{if(u==="?"){s=b.getPageUrl().replace(/[\?#].*/,"")+t;}else{if(v){s=b.getBaseUrl()+t.replace(/^(\.\/)+/,"");}else{s=b.getBasePageUrl()+t.replace(/^(\.\/)+/,"");}}}}}return s.replace(/\#$/,"");};b.getShortUrl=function(u){var t=u,v=b.getBaseUrl(),s=b.getRootUrl();if(b.emulated.pushState){t=t.replace(v,"");}t=t.replace(s,"/");if(b.isTraditionalAnchor(t)){t="./"+t;}t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"");return t;};b.getLocationHref=function(s){s=s||k;if(s.URL===s.location.href){return s.location.href;}if(s.location.href===decodeURIComponent(s.URL)){return s.URL;}if(s.location.hash&&decodeURIComponent(s.location.href.replace(/^[^#]+/,""))===s.location.hash){return s.location.href;}if(s.URL.indexOf("#")==-1&&s.location.href.indexOf("#")!=-1){return s.location.href;}return s.URL||s.location.href;};b.store={};b.idToState=b.idToState||{};b.stateToId=b.stateToId||{};b.urlToId=b.urlToId||{};b.storedStates=b.storedStates||[];b.savedStates=b.savedStates||[];b.normalizeStore=function(){b.store.idToState=b.store.idToState||{};b.store.urlToId=b.store.urlToId||{};b.store.stateToId=b.store.stateToId||{};};b.getState=function(u,t){if(typeof u==="undefined"){u=true;}if(typeof t==="undefined"){t=true;}var s=b.getLastSavedState();if(!s&&t){s=b.createStateObject();}if(u){s=b.cloneObject(s);s.url=s.cleanUrl||s.url;}return s;};b.getIdByState=function(s){var u=b.extractId(s.url),t;if(!u){t=b.getStateString(s);if(typeof b.stateToId[t]!=="undefined"){u=b.stateToId[t];}else{if(typeof b.store.stateToId[t]!=="undefined"){u=b.store.stateToId[t];}else{while(true){u=(new Date()).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof b.idToState[u]==="undefined"&&typeof b.store.idToState[u]==="undefined"){break;}}b.stateToId[t]=u;b.idToState[u]=s;}}}return u;};b.normalizeState=function(t){var u,s;if(!t||(typeof t!=="object")){t={};}if(typeof t.normalized!=="undefined"){return t;}if(!t.data||(typeof t.data!=="object")){t.data={};}u={};u.normalized=true;u.title=t.title||"";u.url=b.getFullUrl(t.url?t.url:(b.getLocationHref()));u.hash=b.getShortUrl(u.url);u.data=b.cloneObject(t.data);u.id=b.getIdByState(u);u.cleanUrl=u.url.replace(/\??\&_suid.*/,"");u.url=u.cleanUrl;s=!b.isEmptyObject(u.data);if((u.title||s)&&b.options.disableSuid!==true){u.hash=b.getShortUrl(u.url).replace(/\??\&_suid.*/,"");if(!/\?/.test(u.hash)){u.hash+="?";}u.hash+="&_suid="+u.id;}u.hashedUrl=b.getFullUrl(u.hash);if((b.emulated.pushState||b.bugs.safariPoll)&&b.hasUrlDuplicate(u)){u.url=u.hashedUrl;}return u;};b.createStateObject=function(u,v,t){var s={"data":u,"title":v,"url":t};s=b.normalizeState(s);return s;};b.getStateById=function(t){t=String(t);var s=b.idToState[t]||b.store.idToState[t]||a;return s;};b.getStateString=function(t){var s,u,v;s=b.normalizeState(t);u={data:s.data,title:t.title,url:t.url};v=o.stringify(u);return v;};b.getStateId=function(t){var s,u;s=b.normalizeState(t);u=s.id;return u;};b.getHashByState=function(t){var s,u;s=b.normalizeState(t);u=s.hash;return u;};b.extractId=function(v){var w,u,s,t;if(v.indexOf("#")!=-1){t=v.split("#")[0];}else{t=v;}u=/(.*)\&_suid=([0-9]+)$/.exec(t);s=u?(u[1]||v):v;w=u?String(u[2]||""):"";return w||false;};b.isTraditionalAnchor=function(t){var s=!(/[\/\?\.]/.test(t));return s;};b.extractState=function(v,u){var s=null,w,t;u=u||false;w=b.extractId(v);if(w){s=b.getStateById(w);}if(!s){t=b.getFullUrl(v);w=b.getIdByUrl(t)||false;if(w){s=b.getStateById(w);}if(!s&&u&&!b.isTraditionalAnchor(v)){s=b.createStateObject(null,null,t);}}return s;};b.getIdByUrl=function(s){var t=b.urlToId[s]||b.store.urlToId[s]||a;return t;};b.getLastSavedState=function(){return b.savedStates[b.savedStates.length-1]||a;};b.getLastStoredState=function(){return b.storedStates[b.storedStates.length-1]||a;};b.hasUrlDuplicate=function(u){var t=false,s;s=b.extractState(u.url);t=s&&s.id!==u.id;return t;};b.storeState=function(s){b.urlToId[s.url]=s.id;b.storedStates.push(b.cloneObject(s));return s;};b.isLastSavedState=function(v){var u=false,t,s,w;if(b.savedStates.length){t=v.id;s=b.getLastSavedState();w=s.id;u=(t===w);}return u;};b.saveState=function(s){if(b.isLastSavedState(s)){return false;}b.savedStates.push(b.cloneObject(s));return true;};b.getStateByIndex=function(t){var s=null;if(typeof t==="undefined"){s=b.savedStates[b.savedStates.length-1];}else{if(t<0){s=b.savedStates[b.savedStates.length+t];}else{s=b.savedStates[t];}}return s;};b.getCurrentIndex=function(){var s=null;if(b.savedStates.length<1){s=0;}else{s=b.savedStates.length-1;}return s;};b.getHash=function(u){var s=b.getLocationHref(u),t;t=b.getHashByUrl(s);return t;};b.unescapeHash=function(t){var s=b.normalizeHash(t);s=decodeURIComponent(s);return s;};b.normalizeHash=function(t){var s=t.replace(/[^#]*#/,"").replace(/#.*/,"");return s;};b.setHash=function(v,s){var t,u;if(s!==false&&b.busy()){b.pushQueue({scope:b,callback:b.setHash,args:arguments,queue:s});return false;}b.busy(true);t=b.extractState(v,true);if(t&&!b.emulated.pushState){b.pushState(t.data,t.title,t.url,false);}else{if(b.getHash()!==v){if(b.bugs.setHash){u=b.getPageUrl();b.pushState(null,null,u+"#"+v,false);}else{k.location.hash=v;}}}return b;};b.escapeHash=function(t){var s=b.normalizeHash(t);s=i.encodeURIComponent(s);if(!b.bugs.hashEscape){s=s.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?");}return s;};b.getHashByUrl=function(s){var t=String(s).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");t=b.unescapeHash(t);return t;};b.setTitle=function(u){var v=u.title,t;if(!v){t=b.getStateByIndex(0);if(t&&t.url===u.url){v=t.title||b.options.initialTitle;}}try{k.getElementsByTagName("title")[0].innerHTML=v.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ");}catch(s){}k.title=v;return b;};b.queues=[];b.busy=function(t){if(typeof t!=="undefined"){b.busy.flag=t;}else{if(typeof b.busy.flag==="undefined"){b.busy.flag=false;}}if(!b.busy.flag){l(b.busy.timeout);var s=function(){var v,u,w;if(b.busy.flag){return;}for(v=b.queues.length-1;v>=0;--v){u=b.queues[v];if(u.length===0){continue;}w=u.shift();b.fireQueueItem(w);b.busy.timeout=c(s,b.options.busyDelay);}};b.busy.timeout=c(s,b.options.busyDelay);}return b.busy.flag;};b.busy.flag=false;b.fireQueueItem=function(s){return s.callback.apply(s.scope||b,s.args||[]);};b.pushQueue=function(s){b.queues[s.queue||0]=b.queues[s.queue||0]||[];b.queues[s.queue||0].push(s);return b;};b.queue=function(t,s){if(typeof t==="function"){t={callback:t};}if(typeof s!=="undefined"){t.queue=s;}if(b.busy()){b.pushQueue(t);}else{b.fireQueueItem(t);}return b;};b.clearQueue=function(){b.busy.flag=false;b.queues=[];return b;};b.stateChanged=false;b.doubleChecker=false;b.doubleCheckComplete=function(){b.stateChanged=true;b.doubleCheckClear();return b;};b.doubleCheckClear=function(){if(b.doubleChecker){l(b.doubleChecker);b.doubleChecker=false;}return b;};b.doubleCheck=function(s){b.stateChanged=false;b.doubleCheckClear();if(b.bugs.ieDoubleCheck){b.doubleChecker=c(function(){b.doubleCheckClear();if(!b.stateChanged){s();}return true;},b.options.doubleCheckInterval);}return b;};b.safariStatePoll=function(){var t=b.extractState(b.getLocationHref()),s;if(!b.isLastSavedState(t)){s=t;}else{return;}if(!s){s=b.createStateObject();}b.Adapter.trigger(i,"popstate");return b;};b.back=function(s){if(s!==false&&b.busy()){b.pushQueue({scope:b,callback:b.back,args:arguments,queue:s});return false;}b.busy(true);b.doubleCheck(function(){b.back(false);});h.go(-1);return true;};b.forward=function(s){if(s!==false&&b.busy()){b.pushQueue({scope:b,callback:b.forward,args:arguments,queue:s});return false;}b.busy(true);b.doubleCheck(function(){b.forward(false);});h.go(1);return true;};b.go=function(t,s){var u;if(t>0){for(u=1;u<=t;++u){b.forward(s);}}else{if(t<0){for(u=-1;u>=t;--u){b.back(s);}}else{throw new Error("History.go: History.go requires a positive or negative integer passed.");}}return b;};if(b.emulated.pushState){var r=function(){};b.pushState=b.pushState||r;b.replaceState=b.replaceState||r;}else{b.onPopState=function(v,s){var x=false,w=false,u,t;b.doubleCheckComplete();u=b.getHash();if(u){t=b.extractState(u||b.getLocationHref(),true);if(t){b.replaceState(t.data,t.title,t.url,false);}else{b.Adapter.trigger(i,"anchorchange");b.busy(false);}b.expectedStateId=false;return false;}x=b.Adapter.extractEventData("state",v,s)||false;if(x){w=b.getStateById(x);}else{if(b.expectedStateId){w=b.getStateById(b.expectedStateId);}else{w=b.extractState(b.getLocationHref());}}if(!w){w=b.createStateObject(null,null,b.getLocationHref());}b.expectedStateId=false;if(b.isLastSavedState(w)){b.busy(false);return false;}b.storeState(w);b.saveState(w);b.setTitle(w);b.Adapter.trigger(i,"statechange");b.busy(false);return true;};b.Adapter.bind(i,"popstate",b.onPopState);b.pushState=function(u,w,t,s){if(b.getHashByUrl(t)&&b.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");}if(s!==false&&b.busy()){b.pushQueue({scope:b,callback:b.pushState,args:arguments,queue:s});return false;}b.busy(true);var v=b.createStateObject(u,w,t);if(b.isLastSavedState(v)){b.busy(false);}else{b.storeState(v);b.expectedStateId=v.id;h.pushState(v.id,v.title,v.url);b.Adapter.trigger(i,"popstate");}return true;};b.replaceState=function(u,w,t,s){if(b.getHashByUrl(t)&&b.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");}if(s!==false&&b.busy()){b.pushQueue({scope:b,callback:b.replaceState,args:arguments,queue:s});return false;}b.busy(true);var v=b.createStateObject(u,w,t);if(b.isLastSavedState(v)){b.busy(false);}else{b.storeState(v);b.expectedStateId=v.id;h.replaceState(v.id,v.title,v.url);b.Adapter.trigger(i,"popstate");}return true;};}if(m){try{b.store=o.parse(m.getItem("History.store"))||{};}catch(q){b.store={};}b.normalizeStore();}else{b.store={};b.normalizeStore();}b.Adapter.bind(i,"unload",b.clearAllIntervals);b.saveState(b.storeState(b.extractState(b.getLocationHref(),true)));if(m){b.onUnload=function(){var s,u,w;try{s=o.parse(m.getItem("History.store"))||{};}catch(t){s={};}s.idToState=s.idToState||{};s.urlToId=s.urlToId||{};s.stateToId=s.stateToId||{};for(u in b.idToState){if(!b.idToState.hasOwnProperty(u)){continue;}s.idToState[u]=b.idToState[u];}for(u in b.urlToId){if(!b.urlToId.hasOwnProperty(u)){continue;}s.urlToId[u]=b.urlToId[u];}for(u in b.stateToId){if(!b.stateToId.hasOwnProperty(u)){continue;}s.stateToId[u]=b.stateToId[u];}b.store=s;b.normalizeStore();w=o.stringify(s);try{m.setItem("History.store",w);}catch(v){if(v.code===DOMException.QUOTA_EXCEEDED_ERR){if(m.length){m.removeItem("History.store");m.setItem("History.store",w);}else{}}else{throw v;}}};b.intervalList.push(f(b.onUnload,b.options.storeInterval));b.Adapter.bind(i,"beforeunload",b.onUnload);b.Adapter.bind(i,"unload",b.onUnload);}if(!b.emulated.pushState){if(b.bugs.safariPoll){b.intervalList.push(f(b.safariStatePoll,b.options.safariPollInterval));}if(n.vendor==="Apple Computer, Inc."||(n.appCodeName||"")==="Mozilla"){b.Adapter.bind(i,"hashchange",function(){b.Adapter.trigger(i,"popstate");});if(b.getHash()){b.Adapter.onDomLoad(function(){b.Adapter.trigger(i,"hashchange");});}}}};if(!b.options||!b.options.delayInit){b.init();}})(window);
/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(a){a.cookie=function(g,f,k){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(f))||f===null||f===undefined)){k=a.extend({},k);if(f===null||f===undefined){k.expires=-1;}if(typeof k.expires==="number"){var h=k.expires,j=k.expires=new Date();j.setDate(j.getDate()+h);}f=String(f);return(document.cookie=[encodeURIComponent(g),"=",k.raw?f:encodeURIComponent(f),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join(""));}k=f||{};var b=k.raw?function(i){return i;}:decodeURIComponent;var c=document.cookie.split("; ");for(var e=0,d;d=c[e]&&c[e].split("=");e++){if(b(d[0])===g){return b(d[1]||"");}}return null;};})(jQuery);(function(b){b.fn.rowGrid=function(c){return this.each(function(){$this=b(this);if(c==="appended"){c=$this.data("grid-options");var e=$this.children("."+c.lastRowClass);var d=e.nextAll(c.itemSelector).add(e);a(this,c,d);}else{c=b.extend({},b.fn.rowGrid.defaults,c);$this.data("grid-options",c);a(this,c);if(c.resize){b(window).on("resize.rowGrid",{container:this},function(f){a(f.data.container,c);});}}});};b.fn.rowGrid.defaults={minMargin:null,maxMargin:null,resize:true,lastRowClass:"last-row",firstItemClass:null};function a(q,e,u){var z=0,c=[],u=jQuery.makeArray(u||q.querySelectorAll(e.itemSelector)),s=u.length;if(q.clientWidth!=0){var p=q.clientWidth-parseFloat(b(q).css("padding-left"))-parseFloat(b(q).css("padding-right"))-5;}else{var p=765-parseFloat(b(q).css("padding-left"))-parseFloat(b(q).css("padding-right"));}var f=[];var B,o,y;for(var x=0;x<s;++x){B=u[x].getElementsByTagName("img")[0];if(!B){u.splice(x,1);--x;--s;continue;}if(!(o=parseInt(B.getAttribute("width")))){B.setAttribute("width",o=B.offsetWidth);}if(!(y=parseInt(B.getAttribute("height")))){B.setAttribute("height",y=B.offsetHeight);}f[x]={width:o,height:y};}s=u.length;for(var j=0;j<s;++j){if(u[j].classList){u[j].classList.remove(e.firstItemClass);u[j].classList.remove(e.lastRowClass);}else{u[j].className=u[j].className.replace(new RegExp("(^|\\b)"+e.firstItemClass+"|"+e.lastRowClass+"(\\b|$)","gi")," ");}z+=f[j].width;c.push(u[j]);if(j===s-1){for(var t=0;t<c.length;t++){if(t===0){c[t].className+=" "+e.lastRowClass;}c[t].style.cssText="width: "+f[j+parseInt(t)-c.length+1].width+"px;"+"height: "+f[j+parseInt(t)-c.length+1].height+"px;"+"margin-right:"+((t<c.length-1)?e.minMargin+"px":0);}}if(z+e.maxMargin*(c.length-1)>p){var r=z+e.maxMargin*(c.length-1)-p;var m=c.length;var k=(e.maxMargin-e.minMargin)*(m-1);if(k<r){var d=e.minMargin;r-=(e.maxMargin-e.minMargin)*(m-1);}else{var d=e.maxMargin-r/(m-1);r=0;}var g,l=0;for(var t=0;t<c.length;t++){g=c[t];var A=f[j+parseInt(t)-c.length+1].width;var n=A-(A/z)*r;var v=Math.round(f[j+parseInt(t)-c.length+1].height*(n/A));if(l+1-n%1>=0.5){l-=n%1;n=Math.floor(n);}else{l+=1-n%1;n=Math.ceil(n);}g.style.cssText="width: "+n+"px;"+"height: "+v+"px;"+"margin-right: "+((t<c.length-1)?d:0)+"px";if(t===0){g.className+=" "+e.firstItemClass;}}c=[],z=0;}}}})(jQuery);(function(d,e,f){Array.max=function(g){return Math.max.apply(Math,g);};Array.min=function(g){return Math.min.apply(Math,g);};var a=e.event,c;a.special.smartresize={setup:function(){e(this).bind("resize",a.special.smartresize.handler);},teardown:function(){e(this).unbind("resize",a.special.smartresize.handler);},handler:function(j,g){var i=this,h=arguments;j.type="smartresize";if(c){clearTimeout(c);}c=setTimeout(function(){jQuery.event.dispatch.apply(i,h);},g==="execAsap"?0:50);}};e.fn.smartresize=function(g){return g?this.bind("smartresize",g):this.trigger("smartresize",["execAsap"]);};e.fn.imagesLoaded=function(m){var i=this.find("img"),g=i.length,l=this,k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";function j(){m.call(l,i);}function h(){if(--g<=0&&this.src!==k){setTimeout(j);i.unbind("load error",h);}}if(!g){j();}i.bind("load error",h).each(function(){if(this.complete||this.complete===f){var n=this.src;this.src=k;this.src=n;}});return this;};e.Montage=function(g,h){this.element=e(h).show();this.cache={};this.heights=new Array();this._create(g);};e.Montage.defaults={liquid:true,margin:1,minw:70,minh:20,maxh:250,alternateHeight:false,alternateHeightRange:{min:100,max:300},fixedHeight:null,minsize:false,fillLastRow:false};e.Montage.prototype={_getImageWidth:function(j,k){var i=j.width(),l=j.height(),g=l/i;return Math.ceil(k/g);},_getImageHeight:function(j,g){var i=j.width(),k=j.height(),h=k/i;return Math.ceil(h*g);},_chooseHeight:function(){if(this.options.minsize){return Array.min(this.heights);}var h={},g=0,l,o,k;for(var j=0,m=this.heights.length;j<m;++j){var o=this.heights[j],n=(h[o]||0)+1;if(o<this.options.minh||o>this.options.maxh){continue;}h[o]=n;if(n>=g){g=n;l=o;}}for(var j in h){if(h[j]===g){o=j;k=k||o;if(k<this.options.minh){k=null;}else{if(k>o){k=o;}}if(k===null){k=o;}}}if(k===f){k=this.heights[0];}l=k;return l;},_stretchImage:function(h){var k=h.parent().width(),j=k+this.cache.space_w_left,i={x:j,y:this.theHeight};var l=h.width()+this.cache.space_w_left,g=this._getImageHeight(h,l);this._cropImage(h,l,g,i);this.cache.space_w_left=this.cache.container_w;if(this.options.alternateHeight){this.theHeight=Math.floor(Math.random()*(this.options.alternateHeightRange.max-this.options.alternateHeightRange.min+1)+this.options.alternateHeightRange.min);}},_updatePrevImage:function(g){var h=this.element.find("img.montage:last");this._stretchImage(h);this._insertImage(g);},_insertImage:function(g){var i=this._getImageWidth(g,this.theHeight);if(this.options.minsize&&!this.options.alternateHeight){if(this.cache.space_w_left<=this.options.margin*2){this._updatePrevImage(g);}else{if(i>this.cache.space_w_left){var h={x:this.cache.space_w_left,y:this.theHeight};this._cropImage(g,i,this.theHeight,h);this.cache.space_w_left=this.cache.container_w;g.addClass("montage");}else{var h={x:i,y:this.theHeight};this._cropImage(g,i,this.theHeight,h);this.cache.space_w_left-=i;g.addClass("montage");}}}else{if(i<this.options.minw){if(this.options.minw>this.cache.space_w_left){this._updatePrevImage(g);}else{var i=this.options.minw,j=this._getImageHeight(g,i),h={x:i,y:this.theHeight};this._cropImage(g,i,j,h);this.cache.space_w_left-=i;g.addClass("montage");}}else{if(i>this.cache.space_w_left&&this.cache.space_w_left<this.options.minw){this._updatePrevImage(g);}else{if(i>this.cache.space_w_left&&this.cache.space_w_left>=this.options.minw){var h={x:this.cache.space_w_left,y:this.theHeight};this._cropImage(g,i,this.theHeight,h);this.cache.space_w_left=this.cache.container_w;if(this.options.alternateHeight){this.theHeight=Math.floor(Math.random()*(this.options.alternateHeightRange.max-this.options.alternateHeightRange.min+1)+this.options.alternateHeightRange.min);}g.addClass("montage");}else{var h={x:i,y:this.theHeight};this._cropImage(g,i,this.theHeight,h);this.cache.space_w_left-=i;g.addClass("montage");}}}}},_cropImage:function(i,g,j,l){var m=this.options.margin*2;var k=i.parent("a");this._resizeImage(i,g,j);i.css({left:-(g-l.x)/2+"px",top:-(j-l.y)/2+"px"});k.addClass("am-wrapper").css({width:l.x-m+"px",height:l.y+"px",margin:this.options.margin});},_resizeImage:function(i,g,j){i.css({width:g+"px",height:j+"px"});},_reload:function(){var h=this.element.width();if(h!==this.cache.container_w){this.element.hide();this.cache.container_w=h;this.cache.space_w_left=h;var g=this;g.$imgs.removeClass("montage").each(function(j){g._insertImage(e(this));});if(g.options.fillLastRow&&g.cache.space_w_left!==g.cache.container_w){g._stretchImage(g.$imgs.eq(g.totalImages-1));}g.element.show();}},_create:function(h){this.options=e.extend(true,{},e.Montage.defaults,h);var g=this,i=g.element.width();g.$imgs=g.element.find("img");g.totalImages=g.$imgs.length;if(g.options.liquid){e("html").css("overflow-y","scroll");}if(!g.options.fixedHeight){g.$imgs.each(function(k){var j=e(this),l=j.width();if(l<g.options.minw&&!g.options.minsize){var m=g._getImageHeight(j,g.options.minw);g.heights.push(m);}else{g.heights.push(j.height());}});}g.theHeight=(!g.options.fixedHeight&&!g.options.alternateHeight)?g._chooseHeight():g.options.fixedHeight;if(g.options.alternateHeight){g.theHeight=Math.floor(Math.random()*(g.options.alternateHeightRange.max-g.options.alternateHeightRange.min+1)+g.options.alternateHeightRange.min);}g.cache.container_w=i;g.cache.space_w_left=i;g.$imgs.each(function(j){g._insertImage(e(this));});if(g.options.fillLastRow&&g.cache.space_w_left!==g.cache.container_w){g._stretchImage(g.$imgs.eq(g.totalImages-1));}e(d).bind("smartresize.montage",function(){g._reload();});},add:function(h,i){var g=h.find("img");this.$imgs=this.$imgs.add(g);this.totalImages=this.$imgs.length;this._add(h,i);},_add:function(h,i){var g=this;h.find("img").each(function(j){g._insertImage(e(this));});if(g.options.fillLastRow&&g.cache.space_w_left!==g.cache.container_w){g._stretchImage(g.$imgs.eq(g.totalImages-1));}if(i){i.call(h);}},destroy:function(g){this._destroy(g);},_destroy:function(g){this.$imgs.removeClass("montage").css({position:"",width:"",height:"",left:"",top:""}).unwrap();if(this.options.liquid){e("html").css("overflow","");}this.element.unbind(".montage").removeData("montage");e(d).unbind(".montage");if(g){g.call();}},option:function(g,h){if(e.isPlainObject(g)){this.options=e.extend(true,this.options,g);}}};var b=function(g){if(this.console){console.error(g);}};e.fn.montage=function(h){if(typeof h==="string"){var g=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"montage");if(!i){b("cannot call methods on montage prior to initialization; "+"attempted to call method '"+h+"'");return;}if(!e.isFunction(i[h])||h.charAt(0)==="_"){b("no such method '"+h+"' for montage instance");return;}i[h].apply(i,g);});}else{this.each(function(){var i=e.data(this,"montage");if(i){i.option(h||{});i._reload();}else{e.data(this,"montage",new e.Montage(h,this));}});}return this;};})(window,jQuery);function setCookie(c,e,a,h,d,g){var b=new Date();b.setTime(b.getTime());if(a){a=a*1000*60*60*24;}var f=new Date(b.getTime()+(a));document.cookie=c+'="'+encode(e)+'"'+((a)?";expires="+f.toGMTString():"")+((h)?";path="+h:"")+((d)?";domain="+d:"")+((g)?";secure":"");}function getCookie(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length;}var b=document.cookie.substring(c_start,c_end);b=b.replace(/^"/,"");b=b.replace(/"$/,"");return unescape(b);}}return"";}function deleteCookie(a,c,b){if(Get_Cookie(a)){document.cookie=a+"="+((c)?";path="+c:"")+((b)?";domain="+b:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT";}}function trim(c){var c=c.replace(/^\s\s*/,""),a=/\s/,b=c.length;while(a.test(c.charAt(--b))){}return c.slice(0,b+1);}function addTprInput(){if($("#tpr",searchForm).length>0){$("#tpr",searchForm).val(rsTpr);}else{$('<input type="hidden">').attr({id:"tpr",name:"tpr",value:rsTpr}).appendTo($(searchForm));}}function rsSuggDown(a){sPrevTerm=$("#sSuggOver"+a).html().replace(/<\/?span[^>]*>/ig,"");$("#q",searchForm).val(sPrevTerm);addTprInput();$(searchForm).submit();return false;}function rsSuggOver(a){addTprInput();$("#sSuggOver"+a).addClass("rsSuggHover");}function rsSuggOut(a){$("#sSuggOver"+a).removeClass("rsSuggHover");}function updateExtensions(){if(typeof hidExtensions!=="undefined"){if(($("#q").val().trim()).length>0){if(!historyAvailable){for(var b=0;b<hidExtensions.length;b++){extensions.splice(0,0,hidExtensions[b]);}historyAvailable=true;}$("#sgbody").css("border-bottom","1px solid #abaaaa");}else{removeHistoryFromExtension();historyAvailable=false;if($("#sgpane").length>0){$("#sgbody").empty();if(typeof(rsTpr)=="undefined"){$("#sgbody").css("border-bottom","none");}}if(typeof rsList!=="undefined"){if(rsList.length<=0||rsClose){$("#sgpane").css("display","none");rsClose=false;return;}var a="";var c="";for(var b=0;b<rsList.length;b++){c=c+"<a class='sSuggLink rsSuggLink' id='sSuggLink"+(b+1)+"'><div class='rsSuggOver' onmouseout='rsSuggOut("+(b+1)+");' onmouseover='rsSuggOver("+(b+1)+");' onmousedown='return rsSuggDown("+(b+1)+");' id='sSuggOver"+(b+1)+"'><span>"+rsList[b]+"</span></div></a>";}a="<div id='suggestlist'><div id='rsTitle' class='ssRSTitle'><span>"+rsTitle+"</span></div>"+c+"</div>";$$(a10.ss.uiBodyId).innerHTML=a+a10.ss.createCloseLink();if($$(a10.ss.uiId).style.display=="none"){a10.ss.transitionSuggestion(false);}}}}}if(typeof searchHistoryCookieName!=="undefined"&&searchHistoryCookieName!=null){shCookieName=searchHistoryCookieName;}else{shCookieName=APNGlobal.cookiePrefix+"-ensh";}var SEARCH_HISTORYB2C={onReady:function(){var a=getCookie(shCookieName);if((typeof sHistoryState!="undefined"&&sHistoryState=="ON")||a=="ON"){SEARCH_HISTORYB2C.sHistoryStateOrCookieStatusValOn();}if((typeof sHistoryState!="undefined"&&sHistoryState=="OFF")||a=="OFF"){SEARCH_HISTORYB2C.sHistoryStateOrCookieStatusValOff();}$("#shist_turn_on,#shist-turn-on").click(SEARCH_HISTORYB2C.sHistTurnOn);$("#shist_turn_off,#shist-turn-off").click(SEARCH_HISTORYB2C.sHistTurnOff);$("#shist_clear_all,#shist-clear-all").click(SEARCH_HISTORYB2C.sHistClearAll);},sHistoryStateOrCookieStatusValOn:function(){$("#search-history-links").show();$("#shist-cmd-links").show();$("#shist_on,#shist-on").hide();$("#shist_off,#shist-off").show();},sHistoryStateOrCookieStatusValOff:function(){$("#search-history-links").hide();$("#shist-cmd-links").hide();$("#shist_off,#shist-off").hide();$("#shist_on,#shist-on").show();$("#shist_desc,#shist-desc").show();},sHistTurnOn:function(b){var a=getCookie(searchHistoryCookieName);var c=a;if(a.indexOf("$OFF$")==0){c=a.substring(5);}setCookie(searchHistoryCookieName,c,28,"/",cookieDomain,false);$("#shist_on,#shist-on").hide("slow");$("#shist_off,#shist-off").show();if(a.length>0){$("#searchHistoryLinks,#search-history-links").show();}else{$("#shist_clear_all,#shist-clear-all").hide();}$("#shist_desc,#shist-desc").hide();$("#shist-cmd-links").show();},sHistTurnOff:function(){var a=getCookie(searchHistoryCookieName);if(!a.indexOf("$OFF$")==0){var b="$OFF$"+a;setCookie(searchHistoryCookieName,b,3650,"/",cookieDomain,false);}$("#shist_off,#shist-off").hide("slow");$("#shist_turn_on_desc,#shist-turn-on-desc").show();$("#shist_desc,#shist-desc").show();$("#shist_on,#shist-on").show();$("#search-history-links").hide();$("#shist-cmd-links").hide();firePixelOnRequest("turnOffSearchHistory","rightRail","SearchHistory","","","UIControl","link");},sHistClearAll:function(){if(confirm(sHistoryConfirmStr)){firePixelOnRequest("ClearSH-Yes","SearchHistory","/clicks/search_history/clear_yes","","","UIControl","link");setCookie(searchHistoryCookieName,"",28,"/",cookieDomain,false);$("#searchHistoryLinks,#search-history-links").hide("slow");$("#shist_clear_all,#shist-clear-all").hide("slow");removeHistoryFromExtension();}else{firePixelOnRequest("ClearSH-No","SearchHistory","/clicks/search_history/clear_no","","","UIControl","link");}}};$(function(){SEARCH_HISTORYB2C.onReady();});